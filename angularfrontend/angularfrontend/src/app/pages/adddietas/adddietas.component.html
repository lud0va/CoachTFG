<p>adddietas works!</p>

<div class="row ">
  <div class="col">
    <h1 >Crea una dieta y añadele comidas y alimentos</h1>
    <form [formGroup]="form"  >
      <label for="caloriasMaxDia">Calorias maximas por dia</label>
      <input formControlName="caloriasMaxDia" class="form-control "   id="caloriasMaxDia" name="caloriasMaxDia" placeholder="Ingresa las calorias maximas por dia" required>
      <label for="fija">Tipo de dieta</label>
      <input  formControlName="fija"  class="form-control "   id="fija" name="fija" placeholder="Ingresa el tipo de dieta" required>
      <label for="finDieta">Fecha del fin de la dieta</label>
      <input type="date" formControlName="finDieta"  class="form-control "  id="finDieta" name="finDieta"  placeholder="yyyy-MM-dd" required>

      <button  (click)="addDieta()"  type="submit" class="btn btn-primary btn-block ms-5 mt-5">Añadir dieta</button>

    </form>


    <div class="mt-5" >

      <form [formGroup]="formPlato"  >
        <label for="nombre">Nombre</label>
        <input formControlName="nombre" class="form-control " [disabled]="activatedPlato"  id="nombre" name="Nombre" placeholder="Ingresa el nombre" required>
        <label for="desc">Descripción</label>
        <input  formControlName="descripcion"  class="form-control "  [disabled]="activatedPlato" id="desc" name="Descripción" placeholder="Ingresa la descripción" required>
        <label for="Hora">Hora</label>
        <input  formControlName="Hora"  class="form-control "  [disabled]="activatedPlato" id="Hora" name="Hora" placeholder="Ingresa la Hora(comida,cena...)" required>
        <label for="calTotal">Calorias totales</label>
        <input  formControlName="calTotal"  class="form-control "  [disabled]="activatedPlato" id="calTotal" name="Descripción" placeholder="Ingresa la descripción" required>

        <button   type="submit"  (click)="addPlato()" [disabled]="activatedPlato" class="btn btn-primary btn-block ms-5 mt-5">Añadir plato</button>

      </form>



    </div>
    <div class="mt-3" >

      <select class="form-control">
        <option *ngFor="let alimento of alimentos"  (click)="onSelectAlimento(alimento)" [value]="alimento.nombre">
          {{ alimento.nombre }}
        </option>
      </select>

        <button   type="submit"   (click)="addAlimento()"  [disabled]="activatedAlimento"  class="btn btn-primary btn-block ms-5 mt-5">Añadir alimento</button>





    </div>




  </div>
  <div class="col">
    <div class="row">
      <h1>dietas</h1>
      <ul class="coacheeItem list-group">
        <li class="list-group-item h4" *ngFor="let dieta of dietas"

            (click)="onSelectDieta(dieta)"
        >
          <p>caloriasMax: {{dieta.caloriasmaxdia}}</p>
          <ul *ngIf="selectedDietaId===dieta.id">
            <li *ngFor="let plato of dieta.platoDeDieta"

                (click)="onSelectPlato(plato)" >
              <p>nombre plato: {{plato.nombre}}</p>
              <p>descripción plato: {{plato.nombre}}</p>
              <ul *ngIf="selectedPlatoId===plato.id">
                <li *ngFor="let alimento of plato.alimentosPlato" >
                  <p>nombre alimentos: {{alimento.alimento?.nombre}}</p>

                  <p>proteinas:  {{alimento.alimento?.proteinas}}</p>

                  <p>calorias: {{alimento.alimento?.calorias}}</p>



                </li>

              </ul>

            </li>

          </ul>
        </li>
      </ul>
    </div>
    <div class="row">
      <h1>dieta creada</h1>
      <ul class="coacheeItem list-group   me-3 list-group-item  h6">
        <p >caloriasMax: {{dietaSend.caloriasmaxdia}}</p>
        <li *ngFor="let plato of dietaSend.platoDeDieta"

            (click)="onSelectPlatoAdd(plato)" >
          <p>nombre plato: {{plato.nombre}}</p>
          <p>descripción plato: {{plato.nombre}}</p>
          <ul *ngIf="selectedPlatoId===plato.id">
            <li *ngFor="let alimento of plato.alimentosPlato" >
              <p>nombre alimentos: {{alimento.alimento?.nombre}}</p>

              <p>proteinas:  {{alimento.alimento?.proteinas}}</p>

              <p>calorias: {{alimento.alimento?.calorias}}</p>



            </li>

          </ul>

        </li>
      </ul>
      <button   type="submit"  (click)="addDietaComplete()"  [disabled]="activatedFinalDiet" class="btn btn-primary btn-block ms-5 mt-5">Añadir plato</button>

    </div>

  </div>
</div>


